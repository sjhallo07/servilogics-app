# üó∫Ô∏è Ecme-lite-cesar - Copilot Prompts

## Project Context
This is a worker tracking system with interactive maps for Admin, Staff, and Client dashboards.

## Common Tasks & Prompts

### 1. Map Components
```typescript
// Create a React component for worker markers on Leaflet map
// Include popups with worker details and status colors
// Use TypeScript with Worker interface from @/@types/services
```

```typescript
// Create a location update hook for real-time tracking
// Implement geolocation watcher with error handling
// Handle permission requests gracefully
```

```typescript
// Build a zone filter component for the map
// Include search by specialty and availability
// Use React hooks for state management
```

### 2. API Endpoints
```javascript
// Create Express route for updating worker location
// Include validation and error handling
// Check role-based permissions for staff/admin only
```

```javascript
// Build middleware for role-based access control
// Admin: full access, Staff: own data only, Client: read-only
// Extract role and userId from query parameters
```

### 3. Database Queries
```javascript
// Write function for finding workers within radius
// Include availability and specialty filtering
// Sort by distance and rating
```

```javascript
// Create worker status color mapper
// Available: green, Busy: yellow, Offline: gray
// Use Tailwind CSS class names
```

### 4. Utility Functions
```typescript
// Create function to calculate distance between coordinates
// Implement Haversine formula
// Return distance in kilometers
```

```typescript
// Build location data validation utility
// Check lat/lng boundaries
// Validate timestamp format
```

## Code Patterns to Follow

### React Components
- Use TypeScript interfaces for props
- Implement responsive design with Tailwind
- Use React hooks for state management
- Follow atomic design principles
- Import types from @/@types/

### API Design
- RESTful endpoints with consistent naming
- Role-based authorization on every endpoint
- Comprehensive error responses
- Request/response validation
- Use query parameters for role/userId

### Maps Integration
- Support multiple providers (Leaflet, Google, Mapbox)
- Implement marker clustering for performance
- Add custom map controls
- Handle geolocation permissions gracefully

## Testing Prompts
```typescript
// Write Jest test for WorkersMapEnhanced component
// Mock geolocation API and Leaflet library
// Test role-based visibility
```

```javascript
// Create integration test for location update endpoint
// Simulate different user roles (admin, staff, client)
// Test permission validation
```
